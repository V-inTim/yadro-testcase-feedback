# Тестовое задание "Форма обратной связи"

Из формулировки условий задания сделал вывод, что достаточно API для обработки формы.\
Написано api двух запросов\
Первый для получения типов обратной связи в виде списков(жалоба, благодарность и т.д.)\
Второй для отправки данных формы\
Этого достаточно для реализации на стороне фронтенда

## Используемые технологии
Django, DRF, Postgres

## Запуск программы с помощью django

1. Установить виртуальное окружение
```
python -m venv venv
venv/Scripts/activate
```

2. Установить зависимости
```
pip install -r requirements.txt
```

3. Создайте .env-файл в корне проекта
- **DATABASE_URL** - url подключения к базе, 
(к примеру postgres://myuser:mypass@localhost:5433/feedback_db)
- **DEBUG** - установите True
- **SECRET_KEY** - секретный ключ Django, сгенерируйте 
- **ALLOWED_HOSTS** - (к примеру localhost,127.0.0.1)

4. Проект работает с postgres.
БД можно или создать, или запустить в docker-compose (файл в проект добавлен)
```
docker-compose up -d
```

5. Примените миграции к базе и запустите сервер
```
python manage.py migrate
python manage.py runserver
```
## API
Получение списка типов обратной связи (жалоба, благодарность и т.д.)
GET http://localhost:8000/feedback/types/ 
**Ответ:**
```json
// 200
[
    {
        "id": "4",
        "name": "Жалоба"
    },
]
```
Отправка формы обратной связи
POST http://localhost:8000/feedback/
**Тело запроса:**
```json
{
    "feedback_type": "4", // тип обратной связи (обязательное)
    "text": "Что-то не работает", // текст (обязательное)
    "file": "Файл" // файл (необязательное)
}
```
**Ответ:**
`статусы 201 или 400`
Коллекции postman в файле yadro-testcase.postman_collection.json
## Дополнительно 
- Код написан с flake8 (конфигурация прописана в setup.cfg)
- Модели поключены к админке
- Из условий сделал вывод, что необходима только клиентская часть, поэтому добавление данных типов обратной связи только через админку или бд
- Переменные перенесены в .env из соображений безопасности
- Добавлен workflow git actions для запуска тестов и проверки code style по flake8
- Коллекции postman в файле yadro-testcase.postman_collection.json